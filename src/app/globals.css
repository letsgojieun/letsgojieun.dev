@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));

@theme {
  /* Typography */
  --font-gaegu: Gaegu, sans-serif;
  --font-solway: Solway, "Apple SD Gothic Neo", Arial, sans-serif;

  /* Layout */
  --dockbar-height: 80px;

  /* Light Theme Colors */
  --color-blue: #4493f8;
  --color-divider: #d0d9e0;
  --color-header: #f6f8fa;
  --color-content: #f6f8fa;
  --color-button: #f6f8fa;
  --color-subtitle: #888888;

  /* Portfolio Colors - Light */
  --color-project-primary: #3b82f6;
  --color-project-secondary: #1d4ed8;
  --color-project-accent: #10b981;
  --color-project-success: #059669;
  --color-project-bg: #f8fafc;
  --color-project-border: #e2e8f0;
  --color-project-text: #1e293b;
  --color-project-muted: #64748b;
}

.dark {
  --color-divider: #3d444d;
  --color-header: #02040a;
  --color-content: #151b23;
  --color-button: #202830;
  --color-subtitle: #757575;

  /* Portfolio Colors - Dark */
  --color-project-primary: #60a5fa;
  --color-project-secondary: #3b82f6;
  --color-project-accent: #34d399;
  --color-project-success: #10b981;
  --color-project-bg: #0f172a;
  --color-project-border: #334155;
  --color-project-text: #f1f5f9;
  --color-project-muted: #94a3b8;
}

/* ===== BASE STYLES ===== */
* {
  box-sizing: border-box;
}

body {
  font-family: Arial, Helvetica, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

a {
  color: inherit;
  text-decoration: none;
}

/* ===== TRANSITIONS ===== */
body,
main,
.bg-white,
.dark\:bg-gray-900,
.post-content,
[class*="bg-"] {
  transition: background-color 0.3s ease-out;
}

p,
h1,
h2,
h3,
h4,
h5,
h6,
span:not(header span) {
  transition: color 0.3s ease-out;
}

/* ===== DOCKBAR STYLES ===== */
nav[role="navigation"] {
  transition: background-color 0.15s ease-out, border-color 0.15s ease-out,
    transform 0.2s ease-out;
}

nav[role="navigation"] a {
  transition: all 0.2s ease-out;
}

/* ===== UTILITY CLASSES ===== */
/* Hide scrollbar globally */
html,
body,
.no-scrollbar {
  scrollbar-width: none;
  -ms-overflow-style: none;
}

html::-webkit-scrollbar,
body::-webkit-scrollbar,
.no-scrollbar::-webkit-scrollbar {
  display: none;
}

/* ===== COMPONENT STYLES ===== */
@layer components {
  /* Layout Components */
  .section-title {
    @apply text-2xl font-bold mb-4;
  }

  .border-rounded {
    @apply rounded-md border px-3 py-1;
  }

  .divider-theme {
    border-color: var(--color-divider);
  }

  /* Interactive Components */
  .button-hover {
    @apply transition-all duration-300 origin-bottom-left
    hover:-skew-y-3 cursor-pointer hover:-translate-x-[0.1] hover:-translate-y-[0.1];
  }

  .button-hover:hover {
    box-shadow: 0 2px 8px 0 var(--color-divider);
  }

  .icon-responsive {
    @apply text-xl sm:text-2xl;
  }

  /* Header Components */
  .bg-header {
    background-color: var(--color-header);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
  }

  /* Portfolio Components */
  .project-card {
    @apply p-4 rounded-lg border cursor-pointer transition-all duration-200 hover:shadow-md;
    background-color: var(--color-project-bg);
    border-color: var(--color-project-border);
  }

  .project-card:hover {
    border-color: var(--color-project-primary);
  }

  .project-card-selected {
    border-color: var(--color-project-primary);
    background-color: color-mix(
      in srgb,
      var(--color-project-primary) 10%,
      transparent
    );
  }

  .project-badge-primary {
    @apply px-3 py-1 rounded-full font-medium font-gaegu;
    background-color: color-mix(
      in srgb,
      var(--color-project-primary) 20%,
      transparent
    );
    color: var(--color-project-primary);
  }

  /* Dockbar Active State */
  .dockbar-active {
    background-color: color-mix(
      in srgb,
      var(--color-project-primary) 20%,
      transparent
    );
    color: var(--color-project-primary);
  }

  .project-badge-success {
    @apply px-3 py-1 rounded-full font-medium font-gaegu;
    background-color: color-mix(
      in srgb,
      var(--color-project-success) 20%,
      transparent
    );
    color: var(--color-project-success);
  }

  .project-title {
    @apply text-3xl font-bold px-2 rounded-lg inline-block;
    background-color: color-mix(
      in srgb,
      var(--color-project-primary) 10%,
      transparent
    );
    color: var(--color-project-primary);
  }

  .project-period {
    color: var(--color-project-primary);
  }

  .project-list-title {
    @apply text-2xl font-bold mb-6;
    color: var(--color-project-text);
  }

  .project-detail-title {
    @apply text-lg font-semibold mb-3;
    color: var(--color-project-text);
  }

  .project-text {
    color: var(--color-project-text);
  }

  .project-text-muted {
    color: var(--color-project-muted);
  }
}

/* ===== POST CONTENT STYLES ===== */
.post-content h2 {
  @apply w-fit font-bold px-1 text-base;
  font-size: 1.2rem;
}

.post-content h3 {
  @apply w-fit font-bold;
  font-size: 1.1rem;
}

.post-content h4 {
  @apply font-bold underline underline-offset-2;
  font-size: 1rem;
}

.post-content img {
  @apply rounded-md mx-auto my-12;
}

.post-content hr {
  @apply my-16;
}

/* ===== PROSE STYLES ===== */

/* Code block Theme */
pre[class*="language-"] {
  background: #f7f6f3;
  color: #37352f;
  border-radius: 6px;
  padding: 16px;
  margin: 16px 0;
  overflow-x: auto;
  font-family: "JetBrains Mono", "SF Mono", Monaco, "Cascadia Code",
    "Roboto Mono", Consolas, "Courier New", monospace;
  font-size: 12px;
  line-height: 1.5;
  border: 1px solid #e9e8e6;
}

code[class*="language-"] {
  background: none;
  padding: 0;
  border-radius: 0;
  font-family: inherit;
  font-size: inherit;
  color: inherit;
}

/* Light Mode Token Colors */
.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
  color: #787774;
  font-style: italic;
}

.token.punctuation {
  color: #37352f;
}

.token.namespace {
  opacity: 0.7;
}

.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.constant,
.token.symbol,
.token.deleted {
  color: #ff6464;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
  color: #139487;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
  color: #00b4d8;
}

.token.atrule,
.token.attr-value,
.token.keyword {
  color: #0277aa;
  font-weight: 600;
}

.token.function,
.token.class-name {
  color: #dc4a68;
}

.token.regex,
.token.important,
.token.variable {
  color: #ff8474;
}

.token.important,
.token.bold {
  font-weight: 600;
}

.token.italic {
  font-style: italic;
}

.token.entity {
  cursor: help;
}

/* Dark Mode Token Colors */
.dark pre[class*="language-"] {
  background: #2f3437;
  color: #e8eaed;
  border: 1px solid #3c4043;
}

.dark .token.comment,
.dark .token.prolog,
.dark .token.doctype,
.dark .token.cdata {
  color: #9aa0a6;
}

.dark .token.punctuation {
  color: #e8eaed;
}

.dark .token.property,
.dark .token.tag,
.dark .token.boolean,
.dark .token.number,
.dark .token.constant,
.dark .token.symbol,
.dark .token.deleted {
  color: #ffc996;
}

.dark .token.selector,
.dark .token.attr-name,
.dark .token.string,
.dark .token.char,
.dark .token.builtin,
.dark .token.inserted {
  color: #91c483;
}

.dark .token.operator,
.dark .token.entity,
.dark .token.url,
.dark .language-css .token.string,
.dark .style .token.string {
  color: #86c6f4;
}

.dark .token.atrule,
.dark .token.attr-value,
.dark .token.keyword {
  color: #4fc3f7;
  font-weight: 600;
}

.dark .token.function,
.dark .token.class-name {
  color: #ff8a80;
}

.dark .token.regex,
.dark .token.important,
.dark .token.variable {
  color: #ffe162;
}

.prose blockquote {
  border-left: 4px solid var(--color-divider);
  padding-left: 1em;
  color: var(--color-subtitle);
  font-style: italic;
  background: var(--color-content);
}

.dark .prose blockquote {
  border-left: 4px solid var(--color-divider);
  background: var(--color-content);
  color: var(--color-subtitle);
}

.prose table {
  @apply w-full border-collapse;
  border: 1px solid var(--color-divider);
  table-layout: fixed;
  word-wrap: break-word;
}

.prose th {
  @apply bg-gray-50 dark:bg-gray-800 font-semibold text-left px-4 py-2;
  border: 1px solid var(--color-divider);
  word-wrap: break-word;
  overflow-wrap: break-word;
}

.prose td {
  @apply px-4 py-2;
  border: 1px solid var(--color-divider);
  word-wrap: break-word;
  overflow-wrap: break-word;
}

@media (max-width: 768px) {
  .prose table {
    display: block;
    overflow-x: auto;
    white-space: nowrap;
  }

  .prose th,
  .prose td {
    white-space: nowrap;
    min-width: 120px;
  }
}

.prose tr:nth-child(even) {
  @apply bg-gray-50/50 dark:bg-gray-800/30;
}

/* ===== MEDIA QUERIES ===== */
@media (prefers-color-scheme: dark) {
  html {
    color-scheme: dark;
  }
}
